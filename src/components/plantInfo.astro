---

---

<!-- Plant Display -->
<section id="plant" class="backdrop-blur-md bg-white/50">
    <p>Plant Name: <span class="plant-name">Plant</span></p>
    <p>Scientific Name: <span class="plant-scientific-name">Scientific Name</span></p>
    <p>Type: <span class="plant-type">Type</span></p>
    <p>Cycle: <span class="plant-cycle">Cycle</span></p>
    <p>Watering: <span class="plant-watering">Watering</span></p>
    <p>Sunlight: <span class="plant-sunlight">Sunlight</span></p>
    <p>Description: <span class="plant-description">Description</span></p>
    <img id="plant-image" src="" alt="Plant Image" />
</section>

<script>
    interface PlantDetails {
        commonName: string;
        scientificName: string;
        type: string;
        cycle: string;
        watering: string;
        sunlight: string;
        description: string;
        default_image?: {
            regular_url: string;
        };
    }

    const plantNameElement = document.querySelector('.plant-name');
    const plantScientificNameElement = document.querySelector('.plant-scientific-name');
    const plantTypeElement = document.querySelector('.plant-type');
    const plantCycleElement = document.querySelector('.plant-cycle');
    const plantWateringElement = document.querySelector('.plant-watering');
    const plantSunlightElement = document.querySelector('.plant-sunlight');
    const plantDescriptionElement = document.querySelector('.plant-description');
    const plantImageElement = document.getElementById('plant-image') as HTMLImageElement | null;

    async function fetchPlantInfo(plantName: string) {
        if (!plantName) {
            alert('Please enter a plant name.');
            return;
        }
        try {
            const res = await fetch(`/.netlify/functions/plant?name=${encodeURIComponent(plantName)}`);
            if (!res.ok) throw new Error('Failed to fetch plant info');
            const plantDetails: PlantDetails = await res.json();

            if (plantNameElement) plantNameElement.textContent = plantDetails.commonName || 'Unknown';
            if (plantScientificNameElement) plantScientificNameElement.textContent = plantDetails.scientificName || 'Unknown';
            if (plantTypeElement) plantTypeElement.textContent = plantDetails.type || 'Unknown';
            if (plantCycleElement) plantCycleElement.textContent = plantDetails.cycle || 'Unknown';
            if (plantWateringElement) plantWateringElement.textContent = plantDetails.watering || 'Unknown';
            if (plantSunlightElement) plantSunlightElement.textContent = plantDetails.sunlight || 'Unknown';
            if (plantDescriptionElement) plantDescriptionElement.textContent = plantDetails.description || 'No description available.';
            if (plantImageElement) plantImageElement.src = plantDetails.default_image?.regular_url || '';
        } catch (error) {
            console.error('Error fetching plant info:', error);
            alert('Failed to fetch plant information.');
        }
    }

    window.addEventListener('plantSearch', (event) => {
        const customEvent = event as CustomEvent<{ plantName: string }>;
        fetchPlantInfo(customEvent.detail.plantName);
    });
</script>

<!-- Styling -->
<!-- <style>
    section {
        position: absolute;
        left: 25%;
        top: 55%;
        transform: translate(-50%, -50%);
        padding: 1.25em; /* 20px */
        border-radius: 0.625em; /* 10px */
        box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.1); /* 4px 8px */
    }

    div {
        margin-top: 1.25em; /* 20px */
        text-align: center;
    }

    select {
        margin: 0.3125em; /* 5px */
        padding: 0.625em; /* 10px */
        font-size: 1em; /* 16px */
    }

    input {
        margin: 0.3125em; /* 5px */
        padding: 0.625em; /* 10px */
        font-size: 1em; /* 16px */
    }

    button {
        margin: 0.3125em; /* 5px */
        padding: 0.625em 1.25em; /* 10px 20px */
        font-size: 1em; /* 16px */
        cursor: pointer;
    }

    img {
        max-width: 18.75em; /* 300px */
        margin-top: 0.625em; /* 10px */
    }
</style> -->
